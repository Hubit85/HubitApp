import React, { createContext, useContext, useState, useEffect, ReactNode } from "react";

interface LanguageContextType {
  language: string;
  setLanguage: (lang: string) => void;
  t: (key: string) => string;
}

const defaultLanguage = "es";

const translations = {
  es: {
    handyman: "HANDYMAN",
    professionalServices: "Servicios profesionales para tu hogar",
    register: "Registrarse",
    login: "Iniciar sesión",
    services: "Servicios",
    profile: "Perfil",
    signOut: "Cerrar sesión",
    dashboard: "Panel de control",
    welcomeBack: "Bienvenido de nuevo",
    loginToAccess: "Inicia sesión para acceder a tu cuenta",
    email: "Correo electrónico",
    enterEmail: "Introduce tu correo electrónico",
    password: "Contraseña",
    enterPassword: "Introduce tu contraseña",
    forgotPassword: "¿Olvidaste tu contraseña?",
    dontHaveAccount: "¿No tienes una cuenta?",
    createAccount: "Crear cuenta",
    registerToStart: "Regístrate para empezar a usar nuestros servicios",
    fullName: "Nombre completo",
    enterFullName: "Introduce tu nombre completo",
    createPassword: "Crea una contraseña",
    confirmPassword: "Confirmar contraseña",
    confirmYourPassword: "Confirma tu contraseña",
    alreadyHaveAccount: "¿Ya tienes una cuenta?",
    whoWeAre: "Quiénes somos",
    whoWeAreDesc1: "Somos una plataforma integral que conecta a administradores de fincas, empresas de servicios y vecinos para brindar transparencia en las necesidades de las comunidades de vecinos.",
    whoWeAreDesc2: "Nuestra misión es facilitar la comunicación, valoración y gestión de servicios, ayudando a las empresas a expandir su negocio mientras ofrecemos total transparencia a las comunidades.",
    howItWorks: "Cómo funciona",
    howItWorksDesc: "Nuestro proceso es simple y eficiente:",
    step1: "Selecciona el tipo de servicio que necesitas",
    step2: "Encuentra profesionales disponibles en tu zona",
    step3: "Compara valoraciones y presupuestos",
    step4: "Contrata al profesional que mejor se adapte a tus necesidades",
    step5: "Valora el servicio recibido",
    achievements: "Nuestros logros",
    achievementsDesc: "Algunos de nuestros logros más destacados:",
    achievement1: "Más de 10,000 servicios completados con éxito",
    achievement2: "Red de más de 1,000 profesionales verificados",
    achievement3: "98% de satisfacción de los clientes",
    achievement4: "Presencia en más de 50 ciudades",
    achievement5: "Ganadores del premio a la mejor plataforma de servicios 2024",
    communityMember: "Miembro de la comunidad",
    serviceProvider: "Proveedor de servicios",
    estateAdministrator: "Administrador de fincas",
    particular: "Particular",
    serviceProviderPortal: "Portal de proveedores de servicios",
    serviceProviderDesc: "Gestiona tus servicios, clientes y facturación desde un solo lugar",
    dashboardTitle: "Panel de control",
    dashboardDesc: "Accede a todas las herramientas de gestión",
    dashboardText: "Visualiza tus servicios activos, calendario, clientes y facturación en un solo lugar.",
    openDashboard: "Abrir panel",
    serviceProfile: "Perfil de servicios",
    manageOfferings: "Gestiona tus ofertas de servicios",
    serviceProfileText: "Configura los servicios que ofreces, precios, disponibilidad y área de cobertura.",
    editProfile: "Editar perfil",
    popularCategories: "Categorías populares",
    plumbing: "Fontanería",
    electrical: "Electricidad",
    painting: "Pintura",
    flooring: "Suelos",
    hvac: "Climatización",
    generalRepairs: "Reparaciones generales",
    map: "Mapa",
    assets: "Activos",
    currentServices: "Servicios Actuales",
    meetings: "Juntas",
    pendingIssues: "Temas Pendientes",
    communityMap: "Mapa de Comunidades",
    communitiesOnMap: "Comunidades en el mapa",
    coordinates: "Coordenadas",
    viewOnMap: "Ver en mapa",
    managedCommunities: "Comunidades Gestionadas",
    viewDetails: "Ver detalles",
    redirectingToServiceDashboard: "Redirigiendo al dashboard de proveedores de servicios...",
    goToServiceDashboard: "Ir al Dashboard de Servicios",
    communityMeetings: "Juntas de Comunidades",
    scheduledMeetings: "Juntas programadas",
    noMeetingsThisMonth: "No hay juntas programadas para este mes.",
    community: "Comunidad",
    type: "Tipo",
    description: "Descripción",
    amountStatus: "Importe/Estado",
    date: "Fecha",
    action: "Acción",
    manage: "Gestionar"
  },
  en: {
    handyman: "HANDYMAN",
    professionalServices: "Professional services for your home",
    register: "Register",
    login: "Login",
    services: "Services",
    profile: "Profile",
    signOut: "Sign out",
    dashboard: "Dashboard",
    welcomeBack: "Welcome back",
    loginToAccess: "Login to access your account",
    email: "Email",
    enterEmail: "Enter your email",
    password: "Password",
    enterPassword: "Enter your password",
    forgotPassword: "Forgot password?",
    dontHaveAccount: "Don't have an account?",
    createAccount: "Create account",
    registerToStart: "Register to start using our services",
    fullName: "Full name",
    enterFullName: "Enter your full name",
    createPassword: "Create a password",
    confirmPassword: "Confirm password",
    confirmYourPassword: "Confirm your password",
    alreadyHaveAccount: "Already have an account?",
    whoWeAre: "Who we are",
    whoWeAreDesc1: "We are a comprehensive platform that connects property administrators, service companies and neighbors to provide transparency in the needs of neighborhood communities.",
    whoWeAreDesc2: "Our mission is to facilitate communication, evaluation and management of services, helping companies to expand their business while offering complete transparency to communities.",
    howItWorks: "How it works",
    howItWorksDesc: "Our process is simple and efficient:",
    step1: "Select the type of service you need",
    step2: "Find available professionals in your area",
    step3: "Compare ratings and quotes",
    step4: "Hire the professional that best suits your needs",
    step5: "Rate the service received",
    achievements: "Our achievements",
    achievementsDesc: "Some of our most outstanding achievements:",
    achievement1: "More than 10,000 services successfully completed",
    achievement2: "Network of more than 1,000 verified professionals",
    achievement3: "98% customer satisfaction",
    achievement4: "Presence in more than 50 cities",
    achievement5: "Winners of the best service platform award 2024",
    communityMember: "Community member",
    serviceProvider: "Service provider",
    estateAdministrator: "Estate administrator",
    particular: "Individual",
    serviceProviderPortal: "Service provider portal",
    serviceProviderDesc: "Manage your services, clients and billing from one place",
    dashboardTitle: "Dashboard",
    dashboardDesc: "Access all management tools",
    dashboardText: "View your active services, calendar, clients and billing in one place.",
    openDashboard: "Open dashboard",
    serviceProfile: "Service profile",
    manageOfferings: "Manage your service offerings",
    serviceProfileText: "Configure the services you offer, prices, availability and coverage area.",
    editProfile: "Edit profile",
    popularCategories: "Popular categories",
    plumbing: "Plumbing",
    electrical: "Electrical",
    painting: "Painting",
    flooring: "Flooring",
    hvac: "HVAC",
    generalRepairs: "General repairs",
    map: "Map",
    assets: "Assets",
    currentServices: "Current Services",
    meetings: "Meetings",
    pendingIssues: "Pending Issues",
    communityMap: "Community Map",
    communitiesOnMap: "Communities on map",
    coordinates: "Coordinates",
    viewOnMap: "View on map",
    managedCommunities: "Managed Communities",
    viewDetails: "View details",
    redirectingToServiceDashboard: "Redirecting to service providers dashboard...",
    goToServiceDashboard: "Go to Service Dashboard",
    communityMeetings: "Community Meetings",
    scheduledMeetings: "Scheduled meetings",
    noMeetingsThisMonth: "No meetings scheduled for this month.",
    community: "Community",
    type: "Type",
    description: "Description",
    amountStatus: "Amount/Status",
    date: "Date",
    action: "Action",
    manage: "Manage"
  },
  fr: {
    handyman: "HANDYMAN",
    professionalServices: "Services professionnels pour votre maison",
    register: "S'inscrire",
    login: "Se connecter",
    services: "Services",
    profile: "Profil",
    signOut: "Déconnexion",
    dashboard: "Tableau de bord",
    welcomeBack: "Bienvenue",
    loginToAccess: "Connectez-vous pour accéder à votre compte",
    email: "Email",
    enterEmail: "Entrez votre email",
    password: "Mot de passe",
    enterPassword: "Entrez votre mot de passe",
    forgotPassword: "Mot de passe oublié?",
    dontHaveAccount: "Vous n'avez pas de compte?",
    createAccount: "Créer un compte",
    registerToStart: "Inscrivez-vous pour commencer à utiliser nos services",
    fullName: "Nom complet",
    enterFullName: "Entrez votre nom complet",
    createPassword: "Créez un mot de passe",
    confirmPassword: "Confirmer le mot de passe",
    confirmYourPassword: "Confirmez votre mot de passe",
    alreadyHaveAccount: "Vous avez déjà un compte?",
    whoWeAre: "Qui sommes-nous",
    whoWeAreDesc1: "Nous sommes une plateforme complète qui connecte les administrateurs de propriétés, les entreprises de services et les voisins pour offrir de la transparence dans les besoins des communautés de quartier.",
    whoWeAreDesc2: "Notre mission est de faciliter la communication, l'évaluation et la gestion des services, aidant les entreprises à développer leur activité tout en offrant une transparence totale aux communautés.",
    howItWorks: "Comment ça marche",
    howItWorksDesc: "Notre processus est simple et efficace:",
    step1: "Sélectionnez le type de service dont vous avez besoin",
    step2: "Trouvez des professionnels disponibles dans votre région",
    step3: "Comparez les évaluations et les devis",
    step4: "Embauchez le professionnel qui répond le mieux à vos besoins",
    step5: "Évaluez le service reçu",
    achievements: "Nos réalisations",
    achievementsDesc: "Certaines de nos réalisations les plus remarquables:",
    achievement1: "Plus de 10 000 services réalisés avec succès",
    achievement2: "Réseau de plus de 1 000 professionnels vérifiés",
    achievement3: "98% de satisfaction client",
    achievement4: "Présence dans plus de 50 villes",
    achievement5: "Lauréats du prix de la meilleure plateforme de services 2024",
    communityMember: "Membre de la communauté",
    serviceProvider: "Prestataire de services",
    estateAdministrator: "Administrateur immobilier",
    particular: "Particulier",
    serviceProviderPortal: "Portail des prestataires de services",
    serviceProviderDesc: "Gérez vos services, clients et facturation depuis un seul endroit",
    dashboardTitle: "Tableau de bord",
    dashboardDesc: "Accédez à tous les outils de gestion",
    dashboardText: "Visualisez vos services actifs, calendrier, clients et facturation en un seul endroit.",
    openDashboard: "Ouvrir le tableau de bord",
    serviceProfile: "Profil de service",
    manageOfferings: "Gérez vos offres de services",
    serviceProfileText: "Configurez les services que vous proposez, les prix, la disponibilité et la zone de couverture.",
    editProfile: "Modifier le profil",
    popularCategories: "Catégories populaires",
    plumbing: "Plomberie",
    electrical: "Électricité",
    painting: "Peinture",
    flooring: "Revêtement de sol",
    hvac: "Climatisation",
    generalRepairs: "Réparations générales",
    map: "Carte",
    assets: "Actifs",
    currentServices: "Services Actuels",
    meetings: "Réunions",
    pendingIssues: "Problèmes en Attente",
    communityMap: "Carte des Communautés",
    communitiesOnMap: "Communautés sur la carte",
    coordinates: "Coordonnées",
    viewOnMap: "Voir sur la carte",
    managedCommunities: "Communautés Gérées",
    viewDetails: "Voir les détails",
    redirectingToServiceDashboard: "Redirection vers le tableau de bord des prestataires de services...",
    goToServiceDashboard: "Aller au Tableau de Bord des Services",
    communityMeetings: "Réunions de Communauté",
    scheduledMeetings: "Réunions programmées",
    noMeetingsThisMonth: "Aucune réunion programmée pour ce mois.",
    community: "Communauté",
    type: "Type",
    description: "Description",
    amountStatus: "Montant/Statut",
    date: "Date",
    action: "Action",
    manage: "Gérer"
  },
  ru: {
    handyman: "HANDYMAN",
    professionalServices: "Профессиональные услуги для вашего дома",
    register: "Регистрация",
    login: "Вход",
    services: "Услуги",
    profile: "Профиль",
    signOut: "Выйти",
    dashboard: "Панель управления",
    welcomeBack: "Добро пожаловать",
    loginToAccess: "Войдите, чтобы получить доступ к своей учетной записи",
    email: "Электронная почта",
    enterEmail: "Введите вашу электронную почту",
    password: "Пароль",
    enterPassword: "Введите ваш пароль",
    forgotPassword: "Забыли пароль?",
    dontHaveAccount: "Нет учетной записи?",
    createAccount: "Создать учетную запись",
    registerToStart: "Зарегистрируйтесь, чтобы начать пользоваться нашими услугами",
    fullName: "Полное имя",
    enterFullName: "Введите ваше полное имя",
    createPassword: "Создайте пароль",
    confirmPassword: "Подтвердите пароль",
    confirmYourPassword: "Подтвердите ваш пароль",
    alreadyHaveAccount: "Уже есть учетная запись?",
    whoWeAre: "Кто мы",
    whoWeAreDesc1: "Мы комплексная платформа, которая связывает управляющих недвижимостью, сервисные компании и соседей для обеспечения прозрачности в потребностях соседских сообществ.",
    whoWeAreDesc2: "Наша миссия - облегчить общение, оценку и управление услугами, помогая компаниям расширять свой бизнес, обеспечивая при этом полную прозрачность для сообществ.",
    howItWorks: "Как это работает",
    howItWorksDesc: "Наш процесс прост и эффективен:",
    step1: "Выберите тип услуги, которая вам нужна",
    step2: "Найдите доступных специалистов в вашем районе",
    step3: "Сравните рейтинги и цены",
    step4: "Наймите специалиста, который лучше всего соответствует вашим потребностям",
    step5: "Оцените полученную услугу",
    achievements: "Наши достижения",
    achievementsDesc: "Некоторые из наших самых выдающихся достижений:",
    achievement1: "Более 10 000 успешно выполненных услуг",
    achievement2: "Сеть из более чем 1 000 проверенных специалистов",
    achievement3: "98% удовлетворенности клиентов",
    achievement4: "Присутствие в более чем 50 городах",
    achievement5: "Победители премии лучшей сервисной платформы 2024 года",
    communityMember: "Член сообщества",
    serviceProvider: "Поставщик услуг",
    estateAdministrator: "Администратор недвижимости",
    particular: "Частное лицо",
    serviceProviderPortal: "Портал поставщиков услуг",
    serviceProviderDesc: "Управляйте своими услугами, клиентами и выставлением счетов из одного места",
    dashboardTitle: "Панель управления",
    dashboardDesc: "Доступ ко всем инструментам управления",
    dashboardText: "Просматривайте свои активные услуги, календарь, клиентов и выставление счетов в одном месте.",
    openDashboard: "Открыть панель управления",
    serviceProfile: "Профиль услуг",
    manageOfferings: "Управляйте своими предложениями услуг",
    serviceProfileText: "Настройте предлагаемые услуги, цены, доступность и зону обслуживания.",
    editProfile: "Редактировать профиль",
    popularCategories: "Популярные категории",
    plumbing: "Сантехника",
    electrical: "Электрика",
    painting: "Покраска",
    flooring: "Напольные покрытия",
    hvac: "Климатическое оборудование",
    generalRepairs: "Общие ремонтные работы",
    map: "Карта",
    assets: "Активы",
    currentServices: "Текущие Услуги",
    meetings: "Собрания",
    pendingIssues: "Ожидающие Вопросы",
    communityMap: "Карта Сообществ",
    communitiesOnMap: "Сообщества на карте",
    coordinates: "Координаты",
    viewOnMap: "Посмотреть на карте",
    managedCommunities: "Управляемые Сообщества",
    viewDetails: "Посмотреть детали",
    redirectingToServiceDashboard: "Перенаправление на панель управления поставщиков услуг...",
    goToServiceDashboard: "Перейти к Панели Услуг",
    communityMeetings: "Собрания Сообщества",
    scheduledMeetings: "Запланированные собрания",
    noMeetingsThisMonth: "На этот месяц собрания не запланированы.",
    community: "Сообщество",
    type: "Тип",
    description: "Описание",
    amountStatus: "Сумма/Статус",
    date: "Дата",
    action: "Действие",
    manage: "Управлять"
  },
  zh: {
    handyman: "HANDYMAN",
    professionalServices: "为您的家提供专业服务",
    register: "注册",
    login: "登录",
    services: "服务",
    profile: "个人资料",
    signOut: "退出",
    dashboard: "控制面板",
    welcomeBack: "欢迎回来",
    loginToAccess: "登录以访问您的账户",
    email: "电子邮件",
    enterEmail: "输入您的电子邮件",
    password: "密码",
    enterPassword: "输入您的密码",
    forgotPassword: "忘记密码？",
    dontHaveAccount: "没有账户？",
    createAccount: "创建账户",
    registerToStart: "注册以开始使用我们的服务",
    fullName: "全名",
    enterFullName: "输入您的全名",
    createPassword: "创建密码",
    confirmPassword: "确认密码",
    confirmYourPassword: "确认您的密码",
    alreadyHaveAccount: "已有账户？",
    whoWeAre: "我们是谁",
    whoWeAreDesc1: "我们是一个综合平台，连接物业管理员、服务公司和邻居，为邻里社区的需求提供透明度。",
    whoWeAreDesc2: "我们的使命是促进服务的沟通、评估和管理，帮助公司扩展业务，同时为社区提供完全透明度。",
    howItWorks: "如何运作",
    howItWorksDesc: "我们的流程简单高效：",
    step1: "选择您需要的服务类型",
    step2: "在您所在地区找到可用的专业人员",
    step3: "比较评级和报价",
    step4: "雇用最适合您需求的专业人员",
    step5: "评价所接受的服务",
    achievements: "我们的成就",
    achievementsDesc: "我们一些最突出的成就：",
    achievement1: "超过10,000项成功完成的服务",
    achievement2: "超过1,000名经过验证的专业人员网络",
    achievement3: "98%的客户满意度",
    achievement4: "在超过50个城市的存在",
    achievement5: "2024年最佳服务平台奖获得者",
    communityMember: "社区成员",
    serviceProvider: "服务提供商",
    estateAdministrator: "房地产管理员",
    particular: "个人",
    serviceProviderPortal: "服务提供商门户",
    serviceProviderDesc: "从一个地方管理您的服务、客户和账单",
    dashboardTitle: "控制面板",
    dashboardDesc: "访问所有管理工具",
    dashboardText: "在一个地方查看您的活动服务、日历、客户和账单。",
    openDashboard: "打开控制面板",
    serviceProfile: "服务资料",
    manageOfferings: "管理您的服务产品",
    serviceProfileText: "配置您提供的服务、价格、可用性和覆盖区域。",
    editProfile: "编辑资料",
    popularCategories: "热门类别",
    plumbing: "水暖",
    electrical: "电气",
    painting: "绘画",
    flooring: "地板",
    hvac: "暖通空调",
    generalRepairs: "一般维修",
    map: "地图",
    assets: "资产",
    currentServices: "当前服务",
    meetings: "会议",
    pendingIssues: "待处理问题",
    communityMap: "社区地图",
    communitiesOnMap: "地图上的社区",
    coordinates: "坐标",
    viewOnMap: "在地图上查看",
    managedCommunities: "管理的社区",
    viewDetails: "查看详情",
    redirectingToServiceDashboard: "重定向到服务提供商仪表板...",
    goToServiceDashboard: "前往服务仪表板",
    communityMeetings: "社区会议",
    scheduledMeetings: "计划会议",
    noMeetingsThisMonth: "本月没有计划会议。",
    community: "社区",
    type: "类型",
    description: "描述",
    amountStatus: "金额/状态",
    date: "日期",
    action: "操作",
    manage: "管理"
  }
};

const LanguageContext = createContext<LanguageContextType>({
  language: defaultLanguage,
  setLanguage: () => {},
  t: (key: string) => key,
});

export const useLanguage = () => useContext(LanguageContext);

interface LanguageProviderProps {
  children: ReactNode;
}

export const LanguageProvider = ({ children }: LanguageProviderProps) => {
  const [language, setLanguage] = useState(defaultLanguage);

  useEffect(() => {
    const savedLanguage = localStorage.getItem("language");
    if (savedLanguage && Object.keys(translations).includes(savedLanguage)) {
      setLanguage(savedLanguage);
    }
  }, []);

  useEffect(() => {
    localStorage.setItem("language", language);
  }, [language]);

  const t = (key: string): string => {
    const currentTranslations = translations[language as keyof typeof translations] || translations[defaultLanguage];
    return currentTranslations[key as keyof typeof currentTranslations] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
}